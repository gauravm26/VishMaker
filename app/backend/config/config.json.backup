{
  "project": {
    "name": "vishmaker",
    "environment": "prod"
  },
  
  "aws": {
    "region": "us-east-1",
    "vpc_cidr": "10.0.0.0/16"
  },

  "cognito": {
    "password_policy": {
      "minimum_length": 8,
      "require_lowercase": true,
      "require_numbers": true,
      "require_symbols": true,
      "require_uppercase": true
    },
    "token_validity": {
      "access_token_minutes": 60,
      "id_token_minutes": 60,
      "refresh_token_days": 30
    }
  },

  "rds": {
    "engine": "postgres",
    "engine_version": "14.9",
    "instance_class": "db.t3.micro",
    "allocated_storage": 20,
    "max_allocated_storage": 100,
    "backup_retention_days": 7,
    "deletion_protection": true
  },

  "lambda": {
    "runtime": "python3.9",
    "timeout_seconds": 60,
    "memory_mb": 512,
    "environment_variables": {
      "API_V1_STR": "",
      "USE_LOCAL_AUTH": "false"
    }
  },

  "api_gateway": {
    "cors": {
      "allow_credentials": true,
      "allow_headers": ["*"],
      "allow_methods": ["*"],
      "allow_origins": ["*"],
      "max_age_seconds": 86400
    },
    "lambda_routing": {
      "auth_lambda": {
        "routes": ["ANY /auth/{proxy+}"],
        "description": "Dedicated authentication lambda"
      },
      "users_lambda": {
        "routes": [
                  "ANY /projects/{proxy+}",
        "ANY /requirements/{proxy+}",
        "ANY /waitlist/{proxy+}"
        ],
        "description": "Project management and user data lambda"
      },
      "llm_lambda": {
        "routes": [
                  "ANY /llm/{proxy+}",
        "ANY /code/{proxy+}"
        ],
        "description": "LLM and code generation lambda"
      }
    },
    "protected_routes": [
              "ANY /projects/{proxy+}",
        "ANY /llm/{proxy+}",
        "ANY /requirements/{proxy+}",
        "ANY /code/{proxy+}"
    ],
    "public_routes": [
              "ANY /auth/{proxy+}",
        "ANY /waitlist/{proxy+}",
      "GET /ping",
      "GET /"
    ]
  },

  "llm": {
    "bedrock": {
      "models": {
        "claude_sonnet": {
          "model_id": "anthropic.claude-sonnet-4-20250514-v1:0",
          "max_tokens": 2048,
          "temperature": 0.8,
          "top_p": 0.999
        },
        "claude_haiku": {
          "model_id": "anthropic.claude-3-haiku-20240307-v1:0",
          "max_tokens": 1000,
          "temperature": 0.7,
          "top_p": 0.9
        }
      }
    },
    "component_model_mapping": {
      "requirement_generation": {
        "model": "claude_sonnet",
        "target_table": "high_level_requirements"
      },
      "code_generation": {
        "model": "claude_sonnet",
        "target_table": "generated_code"
      },
      "test_generation": {
        "model": "claude_haiku",
        "target_table": "test_cases"
      }
    }
  },

  "s3": {
    "config_bucket_prefix": "vishmaker-configs",
    "force_destroy": true
  },

  "secrets_manager": {
    "db_password_name": "vishmaker-db-password",
    "llm_api_keys_name": "vishmaker-llm-api-keys"
  },

  "monitoring": {
    "cloudwatch": {
      "log_retention_days": 14,
      "enable_enhanced_monitoring": true
    }
  },

  "security": {
    "enable_deletion_protection": true,
    "encrypt_storage": true,
    "vpc_config": {
      "enable_dns_hostnames": true,
      "enable_dns_support": true
    }
  }
} 